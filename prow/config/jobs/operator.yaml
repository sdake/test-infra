org: istio
repo: operator
image: gcr.io/istio-testing/build-tools:2019-10-08T20-57-24
suppress_entrypoint: true
branches:
  - master

jobs:
  - name: lint
    command: [make, lint]

  - name: mesh
    command: [make, mesh]

  - name: test
    command: [make, test]

  - name: mandiff
    command: [make, mandiff]

  - name: manifest-apply
    command: [entrypoint, prow/e2e_install.sh]
    requirements: [kind]
    modifiers: [optional, hidden]

  - name: gencheck
    command: [make, gen-check]
    modifiers: [optional]

  - name: release
    type: postsubmit
    command: [make, docker.all]
    requirements: [gcp]
