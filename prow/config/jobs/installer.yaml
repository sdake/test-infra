org: istio
repo: installer
image: gcr.io/istio-testing/build-tools:2019-09-29T15-31-13
suppress_entrypoint: true
branches:
  - master

jobs:
  - name: build
    command: [make, run-build]

  - name: lintmodern
    command: [make, lint_modern]

  - name: demo
    command: [entrypoint, bin/with-kind.sh, make, run-test-demo]
    requirements: [kind]
    modifiers: [optional]
    repos: [istio/istio]

  - name: noauth
    command: [entrypoint, bin/with-kind.sh, make, run-test-noauth]
    requirements: [kind]
    modifiers: [optional]
    repos: [istio/istio]

  - name: base
    command: [entrypoint, bin/with-kind.sh, make, run-base-reachability]
    requirements: [kind]
    modifiers: [optional]
    repos: [istio/istio]
